[workspace]
members = [
  "folder-rev-model",
  "flowy-sync",
  "flowy-http-model",
  "lib-ot",
  "lib-ws",
  "lib-infra",
  "flowy-derive",
  "flowy-ast",
  "flowy-error-code",
  "grid-rev-model",
]

[profile.dev]
opt-level = 0

[target.'cfg(any(target_os="macos"))'.profile.dev]
#https://doc.rust-lang.org/rustc/codegen-options/index.html#debug-assertions
split-debuginfo = "unpacked"

[profile.release]
opt-level = 3
## debuginfo — it makes ./target much bigger, which again harms caching. Depending on your preferred workflow,
## you might consider disabling debuginfo unconditionally, this brings some benefits for local builds as well.
#strip = "debuginfo"
## For from-scratch builds, incremental adds an extra dependency-tracking overhead. It also significantly increases
## the amount of IO and the size of ./target, which make caching less effective.
incremental = false
